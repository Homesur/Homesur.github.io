<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Магазин на GitHub Pages</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    input, button { margin: 5px; padding: 5px; }
    table { border-collapse: collapse; margin-top: 20px; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  </style>
</head>
<body>
  <h2>Добавить товар</h2>
  <input type="text" id="name" placeholder="Название">
  <input type="number" id="price" placeholder="Цена">
  <button onclick="addProduct()">Добавить</button>

  <h2>Удалить товар по ID</h2>
  <input type="number" id="deleteId" placeholder="ID">
  <button onclick="deleteProduct()">Удалить</button>

  <h2>Список товаров</h2>
  <button onclick="renderProducts()">Обновить список</button>
  <table id="productTable">
    <tr><th>ID</th><th>Название</th><th>Цена</th></tr>
  </table>

  <script>
    let products = JSON.parse(localStorage.getItem('products') || '[]');

    function saveProducts() {
      localStorage.setItem('products', JSON.stringify(products));
    }

    function addProduct() {
      const name = document.getElementById('name').value.trim();
      const price = parseFloat(document.getElementById('price').value);
      if (!name || isNaN(price)) return alert('Введите корректные данные');
      const id = products.length ? products[products.length - 1].id + 1 : 1;
      products.push({ id, name, price });
      saveProducts();
      renderProducts();
    }

    function deleteProduct() {
      const id = parseInt(document.getElementById('deleteId').value);
      products = products.filter(p => p.id !== id);
      saveProducts();
      renderProducts();
    }

    function renderProducts() {
      const table = document.getElementById('productTable');
      table.innerHTML = '<tr><th>ID</th><th>Название</th><th>Цена</th></tr>';
      products.forEach(p => {
        const row = `<tr><td>${p.id}</td><td>${p.name}</td><td>${p.price.toFixed(2)} руб.</td></tr>`;
        table.innerHTML += row;
      });
    }

    renderProducts(); // загрузка при старте
  </script>
</body>
</html>
